const chalk = require('chalk');
const { isAuthenticated } = require('../auth');
const { createBox } = require('./display');

function exitIfNotAuthenticated() {
  // Check if logged in
  if (!isAuthenticated()) {
    console.log(createBox(
      `${chalk.bold('Authentication required!')}\n\n` +
      `Please login first using: ${chalk.green('th login')}`,
      { borderColor: 'yellow' }
    ));
    process.exit(1);
  }
}


function exitErrorAuthentication() {
    console.log(createBox(
      `${chalk.bold('Authentication error!')}\n\n` +
      `Please login first using: ${chalk.green('th login')}`,
      { borderColor: 'yellow' }
    ));
    process.exit(1);
  }

module.exports = { exitIfNotAuthenticated, exitErrorAuthentication };