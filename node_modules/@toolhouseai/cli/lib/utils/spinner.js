const ora = require('ora');

// Check if we're running in a GitHub Actions environment
const isGitHubActions = process.env.GITHUB_ACTIONS === 'true';

// Create a spinner with appropriate settings for the environment
function createSpinner(text) {
  return isGitHubActions 
    ? { 
        start: (msg) => console.log(`INFO: ${msg || text}`),
        succeed: (msg) => console.log(`SUCCESS: ${msg || text}`),
        fail: (msg) => console.error(`ERROR: ${msg || text}`),
        warn: (msg) => console.warn(`WARNING: ${msg || text}`),
        info: (msg) => console.info(`INFO: ${msg || text}`),
        stop: () => {}
      }
    : ora({ text, color: 'cyan' });
}

module.exports = { createSpinner };